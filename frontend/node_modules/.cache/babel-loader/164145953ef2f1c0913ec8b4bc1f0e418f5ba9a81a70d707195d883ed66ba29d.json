{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DBull\\\\OneDrive\\\\Documents\\\\JavaScript Projects\\\\My App\\\\frontend\\\\src\\\\components\\\\layout\\\\Products.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProductsListTitle(category) {\n  const title = category || \"All\";\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"mx-auto text-4xl z-10\",\n    children: [title, \" Products\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this);\n}\n_c = ProductsListTitle;\nconst ProductsList = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetch_products = async () => {\n      try {\n        const response = await axios.get('/api/products', {\n          params: {\n            category: category || ''\n          }\n        });\n        if (response && response.data && Array.isArray(response.data)) {\n          setProducts(response.data);\n        } else {\n          throw new Error(\"Invalid Response Data\");\n        }\n        ;\n\n        // const response = await axios.get('/api/products/all');\n\n        // if (response && response.data && typeof(response.data) === 'object') {\n        //     const flatProducts = Object.values(response.data);\n\n        //     let product_info = [];\n        //     let products = []\n        //     const num_products = flatProducts.length;\n        //     for (let i = 0; i < num_products; i++) {\n        //         let product = flatProducts[i][1];\n        //         product_info.push([product.productName, product.productDescription, product.productCoverImage, product.dateUploaded])\n        //         products.push(product_info)\n        //     };\n\n        //     setProducts(products);\n        // }\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n    fetch_products();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"products-section-wrapper\",\n    className: \"flex-grow flex-shrink flex flex-col bg-darkest-grey\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"absolute self-center p-2 rounded-full ml-4 bg-blue-500 text-center\",\n        to: \"/create-product\",\n        children: \"Upload+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), ProductsListTitle(\"\")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full relative flex flex-row flex-auto flex-wrap gap-4 px-4 pb-4 bg-darkest-grey\",\n      children: products.map((product_info, index) => /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        className: \"h-72 h-auto w-1/4 min-w-28 relative flex flex-col p-2 rounded-md mt-6 dark:bg-darker-grey dark:bg-opacity-60 dark:hover:scale-105 transition-all\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          id: \"product-container\",\n          className: \"h-full w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"h-2/3 w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product_info[index][2],\n              className: \" border aspect-video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: product_info[index][0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-sm\",\n              children: [\"Description \", product_info[index][1]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductsList, \"7hZFy6kTR4lT3S2Ir1EL/hXACPw=\");\n_c2 = ProductsList;\nexport default ProductsList;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProductsListTitle\");\n$RefreshReg$(_c2, \"ProductsList\");","map":{"version":3,"names":["React","useEffect","useState","Link","axios","jsxDEV","_jsxDEV","ProductsListTitle","category","title","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","ProductsList","_s","products","setProducts","error","setError","fetch_products","response","get","params","data","Array","isArray","Error","console","log","message","id","to","map","product_info","index","href","src","_c2","$RefreshReg$"],"sources":["C:/Users/DBull/OneDrive/Documents/JavaScript Projects/My App/frontend/src/components/layout/Products.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction ProductsListTitle(category) {\r\n    const title = category || \"All\";\r\n    return (\r\n        <h1 className='mx-auto text-4xl z-10'>{title} Products</h1>\r\n    )\r\n}\r\n\r\nconst ProductsList = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetch_products = async () => {\r\n            try {\r\n                const response = await axios.get('/api/products', {\r\n                    params: {category: category || ''}\r\n                });\r\n\r\n                if (response && response.data && Array.isArray(response.data)) {\r\n                    setProducts(response.data);\r\n                } else {\r\n                    throw new Error(\"Invalid Response Data\");\r\n                };\r\n\r\n\r\n\r\n                // const response = await axios.get('/api/products/all');\r\n\r\n                // if (response && response.data && typeof(response.data) === 'object') {\r\n                //     const flatProducts = Object.values(response.data);\r\n\r\n                //     let product_info = [];\r\n                //     let products = []\r\n                //     const num_products = flatProducts.length;\r\n                //     for (let i = 0; i < num_products; i++) {\r\n                //         let product = flatProducts[i][1];\r\n                //         product_info.push([product.productName, product.productDescription, product.productCoverImage, product.dateUploaded])\r\n                //         products.push(product_info)\r\n                //     };\r\n                 \r\n                //     setProducts(products);\r\n                    // }\r\n            } catch (error) {\r\n                console.log(error.message);\r\n            }\r\n        };\r\n\r\n        fetch_products();\r\n    }, []);\r\n\r\n    return (\r\n        <div id='products-section-wrapper' className='flex-grow flex-shrink flex flex-col bg-darkest-grey'>\r\n            <div className='relative flex flex-row'>\r\n                <Link className='absolute self-center p-2 rounded-full ml-4 bg-blue-500 text-center' to=\"/create-product\">\r\n                    Upload+\r\n                </Link>\r\n\r\n                {ProductsListTitle(\"\")}\r\n            </div>\r\n\r\n            {error && <p>Error: {error}</p>}\r\n            <div className='h-full relative flex flex-row flex-auto flex-wrap gap-4 px-4 pb-4 bg-darkest-grey'>\r\n                {products.map((product_info, index) =>\r\n                <a href='#' className='h-72 h-auto w-1/4 min-w-28 relative flex flex-col p-2 rounded-md mt-6 dark:bg-darker-grey dark:bg-opacity-60 dark:hover:scale-105 transition-all'>\r\n                    <ul key={index} id='product-container' className='h-full w-full'>\r\n                        <li className='h-2/3 w-full'>\r\n                            <img src={product_info[index][2]} className=' border aspect-video'></img>\r\n                        </li>\r\n                        <div className='mt-6'>\r\n                            <li>{product_info[index][0]}</li>\r\n                            <li className='text-sm'>Description {product_info[index][1]}</li>\r\n                        </div>\r\n                    </ul>\r\n                </a>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductsList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}