{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DBull\\\\OneDrive\\\\Documents\\\\JavaScript Projects\\\\My App\\\\frontend\\\\src\\\\components\\\\layout\\\\Products.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProductsListTitle({\n  category\n}) {\n  const title = category || \"All Products\";\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"mx-auto text-4xl z-10\",\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this);\n}\n_c = ProductsListTitle;\nconst ProductsList = ({\n  category\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetch_products = async () => {\n      try {\n        let response;\n        if (category) {\n          const query = new URLSearchParams({\n            category: category || ''\n          }).toString();\n          response = await fetch(`/api/products/category?${query}`, {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n        } else {\n          response = await fetch('/api/products/all', {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n        }\n        ;\n        if (!response.ok) {\n          console.error(`Network Response not ok: ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (data && typeof data === \"object\") {\n          const flat_products = Object.values(data);\n          let product_info = [];\n          let products = [];\n          const num_products = flat_products.length;\n          for (let i = 0; i < num_products; i++) {\n            let product = flat_products[i][1];\n            product_info.push([product.productName, product.productCategory, product.productDescription, product.productCoverImage, product.dateUploaded]);\n            products.push(product_info);\n          }\n          ;\n          setProducts(products);\n        }\n      } catch (error) {\n        console.error('Fetching products failed:', error);\n        setError(error.message);\n      }\n    };\n    fetch_products();\n  }, [category]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"products-section-wrapper\",\n    className: \"h-full flex-grow flex-shrink flex flex-col pb-10 lg:pb-28 dark:bg-darkest-grey\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"absolute self-center p-2 rounded-full ml-4 bg-blue-500 text-center text-white hover:bg-blue-600 transition-all\",\n        to: \"/create-product\",\n        children: \"Upload+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProductsListTitle, {\n        category: category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full relative flex flex-row flex-auto flex-wrap gap-4 px-4 pb-4 dark:bg-darkest-grey\",\n      children: products.length > 0 ? products.map((product, index) => /*#__PURE__*/_jsxDEV(Link, {\n        className: \"h-auto w-1/4 min-w-28 relative flex flex-col p-2 rounded-md mt-6 bg-gray-300 dark:bg-darker-grey dark:bg-opacity-60 hover:scale-105 transition-all\",\n        to: \"\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          id: \"product-container\",\n          className: \"h-full w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"h-2/3 w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product[index][3],\n              className: \"border aspect-video\",\n              alt: `${product.productName} cover`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-md\",\n              children: product[index][0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-sm\",\n              children: [\"Category: \", product[index][1]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-sm\",\n              children: [\"Description: \", product[index][2]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" No Products \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductsList, \"7hZFy6kTR4lT3S2Ir1EL/hXACPw=\");\n_c2 = ProductsList;\nexport default ProductsList;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProductsListTitle\");\n$RefreshReg$(_c2, \"ProductsList\");","map":{"version":3,"names":["axios","React","useEffect","useState","Link","jsxDEV","_jsxDEV","ProductsListTitle","category","title","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","ProductsList","_s","products","setProducts","error","setError","fetch_products","response","query","URLSearchParams","toString","fetch","method","headers","ok","console","statusText","data","json","flat_products","Object","values","product_info","num_products","length","i","product","push","productName","productCategory","productDescription","productCoverImage","dateUploaded","message","id","to","map","index","src","alt","_c2","$RefreshReg$"],"sources":["C:/Users/DBull/OneDrive/Documents/JavaScript Projects/My App/frontend/src/components/layout/Products.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction ProductsListTitle({ category }) {\r\n    const title = category || \"All Products\";\r\n    return (\r\n        <h1 className='mx-auto text-4xl z-10'>{title}</h1>\r\n    )\r\n}\r\n\r\nconst ProductsList = ({ category }) => {\r\n    const [products, setProducts] = useState([]);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetch_products = async () => {\r\n            try {\r\n                let response\r\n                if (category) {\r\n                    const query = new URLSearchParams({ category: category || '' }).toString();\r\n\r\n                    response = await fetch(`/api/products/category?${query}`, {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                    });\r\n                } else {\r\n                    response = await fetch('/api/products/all', {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                    });\r\n                };\r\n\r\n                if (!response.ok) {\r\n                    console.error(`Network Response not ok: ${response.statusText}`);\r\n                }\r\n\r\n                const data = await response.json();\r\n\r\n                if (data && typeof(data) === \"object\") {\r\n                    const flat_products = Object.values(data);\r\n\r\n                    let product_info = [];\r\n                    let products = [];\r\n                    const num_products = flat_products.length;\r\n\r\n                    for (let i = 0; i < num_products; i++) {\r\n                        let product = flat_products[i][1];\r\n                        product_info.push([product.productName, product.productCategory, product.productDescription, product.productCoverImage, product.dateUploaded])\r\n                        products.push(product_info)\r\n                    };\r\n\r\n                    setProducts(products);\r\n                }\r\n            } catch (error) {\r\n                console.error('Fetching products failed:', error);\r\n                setError(error.message);\r\n            }\r\n        };\r\n\r\n        fetch_products();\r\n    }, [category]);\r\n\r\n    return (\r\n        <div id='products-section-wrapper' className='h-full flex-grow flex-shrink flex flex-col pb-10 lg:pb-28 dark:bg-darkest-grey'>\r\n            <div className='relative flex flex-row'>\r\n                <Link className='absolute self-center p-2 rounded-full ml-4 bg-blue-500 text-center text-white hover:bg-blue-600 transition-all' to=\"/create-product\">\r\n                    Upload+\r\n                </Link>\r\n                <ProductsListTitle category={category} />\r\n            </div>\r\n\r\n            <div className='h-full relative flex flex-row flex-auto flex-wrap gap-4 px-4 pb-4 dark:bg-darkest-grey'>\r\n                {products.length > 0 ? (\r\n                    products.map((product, index) => (\r\n                        <Link\r\n                            key={index}\r\n                            className='h-auto w-1/4 min-w-28 relative flex flex-col p-2 rounded-md mt-6 bg-gray-300 dark:bg-darker-grey dark:bg-opacity-60 hover:scale-105 transition-all'\r\n                            to=\"\"\r\n                            >\r\n                            <ul id='product-container' className='h-full w-full'>\r\n                                <li className='h-2/3 w-full'>\r\n                                    <img src={product[index][3]} className='border aspect-video' alt={`${product.productName} cover`} />\r\n                                </li>\r\n                                <div className='mt-6'>\r\n                                    <li className='text-md'>{product[index][0]}</li>\r\n                                    <li className='text-sm'>Category: {product[index][1]}</li>\r\n                                    <li className='text-sm'>Description: {product[index][2]}</li>\r\n                                </div>\r\n                            </ul>\r\n                        </Link>\r\n                    ))\r\n                ) : (\r\n                    <h2> No Products </h2>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductsList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}